---
title: 'Refs'
description: 'Out-of-band DOM access'
---

The `ref` keyword can be used on elements and struct components. See the page about [`NodeRef`]
for its usage on elements. When used on a component, the ref does not bind a DOM `Node`. Instead,
the referenced `Component` binds data when it is rendered, for example a [`Scope`] to itself.

[`NodeRef`]: concepts/html/node-refs.mdx
[`Scope`]: advanced-topics/struct-components/scope.mdx

Components need to implement the `ComponentWithRef` trait instead of the `Component` trait to be referenceable
and specify the associated `type Reference`.

## Creating a Ref

To create a reference to a component, use `ComponentRef<Component>::new()` and attach it to the component you want to
reference in your `html!`. The referenced component can `bind` a value in its create lifecycle.

```rust
use yew::prelude::*;

struct Example;

impl ComponentWithRef for Example {
    type Message = ();
    type Properties = ();
    // highlight-next-line
    type Reference = String;

    fn create(_ctx: &Context<Self>, bindable_ref: BindableRef<'_, Self::Reference>) -> Self {
        // highlight-next-line
        bindable_ref.bind("My first bound value");
        Self
    }

    fn view(_ctx: &Context<Self>) -> Html {
        html! {
            <p>{"Unimportant content"}</p>
        }
    }
}

// highlight-start
let comp_ref = ComponentRef<Example>::new();
html! {
    <Example ref={&comp_ref} />
}
// highlight-end
```

## Using a Ref

A `ComponentRef` can subsequently be used to imperatively interact with the value bound by the referenced components. Sticking
with the example of binding a `Scope`, one can send messages to the attached component, which are handled in its `update`
lifecycle method to perform side-effects or cause a rerender.

Components can also forward the reference, to bind to a nested child, either another component or an element. For example, a component
wrapping an `<input>` element could forward references to that html element. In this way, components can modularly change
their internal structure without breaking consuming components.

## Relevant examples

-   [Light Switch](https://github.com/yewstack/yew/tree/master/examples/light_switch)
-   [Node Refs](https://github.com/yewstack/yew/tree/master/examples/node_refs)
-   [Nested List](https://github.com/yewstack/yew/tree/master/examples/nested_list)
